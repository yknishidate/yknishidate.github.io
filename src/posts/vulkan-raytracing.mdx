---
title: "Vulkan Ray Tracing"
thumb: "images/2021-10-31-10-20-10.png"
date: 2021-02-01
tags:
 - Vulkan
 - RayTracing
 - C++
---

import Video from '../components/video';

## Raytraced Shadow

リアルタイムレイトレースシャドウを実装しました。コードはフルスクラッチで約3000行くらいです。シャドウマップに比べると実装も楽で圧倒的綺麗さなのでレイトレ最高です。

<Video src="https://github.com/nishidate-yuki/storage/blob/master/Desktop_2021-02-10_-_00-12-19-01.mp4?raw=true" ></Video>

## Path tracing

リアルタイムではないですが、シンプルなパストレーシングも実装しました。

![](images/2021-10-31-10-29-38.png)

プログラム的には `maxDepth` を `1` にすればダイレクトライティングのみ、 `2` 以上にするとGIを考慮するようにしています。

![](images/2021-10-31-10-30-39.png)

今回は高速化のために直接光が当たった時点で寄与十分としてトレースを打ち切っています。かなり雑ですが、ある程度の画は出ます。

## Pathtraced Volumetric Fog

Volumetric Fogを実装しました。レイを飛ばす途中でランダムに散乱させることで実現しています。仮想面積を持たせた太陽とIBLを共存させた上でNEEの考え方を導入し、実装の単純化、高速化、リアリティの向上を図りました。

![](images/2021-10-31-11-14-05.png)

## 「ゼロからVulkan Ray Tracing」

「[ゼロからVulkan Ray Tracing](https://zenn.dev/nishiki/books/f468197dca2dd8)」という入門書を書きました。

![](images/2021-10-31-11-03-19.png)
